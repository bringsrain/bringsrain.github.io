[
    {
        "ref": "https://bringsrain.github.io/whmcpanel/deploy-laravel-website/",
        "title": "Deploy Laravel Website di Cpanel",
        "section": "whmcpanel",
        "tags": ["Cpanel","Laravel"],
        "date" : "2021.02.27",
        "body": "Developer Kere Hore Belajar berkolaborasi dalam sebuah proyek teknologi informasi menyenangkan. Menggelitik kreatifitas. Ceritanya, Sebagai pemuda harapan bangsa\u0026hellip; eh, pemuda zaman now, ga keren dong kalo belum pernah nyobain yang namanya ngoprek website. Baru-baru ini, kebetulan ada kesempatan untuk ngoprek website berjamaah ama temen-temen. Di dalam oprek berjamaah ini, saya kebagian jatah meng-online-kan website hasil oprekan. Untuk meng-online-kan website tentu butuh hostingan. Mau sewa VPS, ndak mampu. Mau daftar cloud gratisan ndak punya kartu kridit. Dasar kere!.\nGimana ndak kere, saya cuma gawe sebagai \u0026ldquo;ngadimin kontrak tahunan\u0026rdquo;, temen yang satu gawe sebagai staf IT disebuah rumah sakit swasta, yang satunya lagi freelancer programmer yang baru meniti karir. Kebetulan juga setiap awal tahun, saya selalu kebagian jatah puasa gajian. Karena kondisi ini, diputuskan untuk menggunakan \u0026ldquo;Shared Hosting\u0026rdquo; sebagai tempat gentayangannya si website. Supaya hore, kita-kita ndak sewa hosting saja, tapi ambil paket reseller. Mudah-mudahan kedepannya bisa dapet tambahan uang jajan dari hasil resale-nya.\nWalau kami kere, tapi \u0026ldquo;skill\u0026rdquo; temen-temen yang garap website lumayan hore kok. CMS website dikembangkan sendiri oleh teman-teman. Pengembangan menggunakan bahasa pemrogaraman PHP dengan framework Laravel. Disini bisa disimpulkan bahwa teman-teman lumayan hore, dan saya yang paling kere. Makanya, saat yang lain ngoding saya cuma kebagian jatah \u0026ldquo;deploy\u0026rdquo; saja. Eits.., karena saya punya temen-temen yang hore, dan punya keinginan untuk makin hore, tentu saja yang kita lakukan tidak berhenti sampai oprekan saja. Saat ini kita juga sedang mengembangkan potensi untuk bisa melayani permintaan, pembuatan website dan aplikasi. Untuk tahu lebih lanjut tentang kami yang kere hore ini, silahkan meilipir ke odis.web.id.\nDerita Seorang Tukang Deploy Derita Pertama Ngoprek, kalau tidak ada ganjalan, tidak seru. Ganjalan pertama yang dihadapi adalah perbedaan nama direktori \u0026ldquo;Document Root\u0026rdquo; bawaan Laravel dengan Cpanel. Laravel menggunakan nama public, sementara Cpanel menggunakan nama public_html. Jadi saat deploy, direktori kudu di-rename mengikuti bawaan Cpanel.\nMengganti nama direktori pada sebuah framework tentu tidak bisa berakhir pada proses rename saja, karena setiap komponen dalam sebuah framework saling berkaitan. Berikut resep mengganti nama Document Root laravel dari public menjadi public_html:\n Catatan: Versi yang digunakan disini adalah PHP7 dan Laravel 7.30.1\n  Ganti nama direktori public menjadi public_html Tambahkan baris berikut pada berkas public_html/index.php setelah deklarasi variabel $app. $app-\u0026gt;bind(\u0026#39;path.public\u0026#39;, function() { return __DIR__; }); Baris tersebut berfungsi untuk binding Document Root ke direktori tempat eksekusi index.php.\n Selanjutnya agar Artisan mengenali direktori public_html, tambahkan baris berikut pada berkas app.php didalam direktori bootstrap yang ada di direktori root laravel. Tepatnya: /bootstrap/app.php. $app-\u0026gt;bind(\u0026#39;path.public\u0026#39;, function() { return base_path().\u0026#39;/public_html\u0026#39;; })   Setelah melakukan langkah-langkah tersebut di atas. Deployment ke Cpanel sama seperti aplikasi pada umumnya. Misal:\n Zip direktori. Upload melalui ftp ke direktori user, bukan Document root. Extract berkas zip. Buat database dan User. Import database. Sesuaikan berkas .env dengan konfigurasi database.  Seperti itu sederhananya cara untuk men-deploy ke CPanel secara umum, tapi disinilah muncul derita baru.\nDerita Kedua Bagian ini sebenarnya opsional saja. Dengan solusi di atas, website sudah bisa berjalan dan diakses dari internet. Hanya saja, kadang saya suka gatel matanya liat berkas berantakan di direktori user.\nKonten direktori root Laravel bertebaran bak dedaunan yang jatuh ke bumi dimusim gugur, membuat hati ingin segera ngambil sapu lidi ama pengki buat bersihin. Eh, emangnya di Indonesia ada musim gugur? Ah\u0026hellip;, sudahlah. Waktunya bebenah, biar ga sakit mata.\n Satukan seluruh direktori di dalam Root direktori Laravel kecuali public_html ke sebuah direktori baru. Misal (karena disini website-nya odis) direktori dengan nama odis.  Konfigurasi lagi berkas public_html/index.php, menyesuaikan dengan struktur direktori yang sekarang: // public_html/index.php $app = require_once __DIR__.\u0026#39;/../odis/bootstrap/app.php\u0026#39;; Perhatikan, ada tambahan direktori odis sebelum bootstrap pada path untuk inisiasi $app.\n  Cara deploy tetap sama seperti sebelumnya. Selesai sudah, sekarang mata sudah ndak sakit lagi.\nReferensi: https://medium.com/@pixelvars/laravel-change-public-html-to-public-html-the-right-way-496431aed94\n"
    }
]
