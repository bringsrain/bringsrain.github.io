[
    {
        "ref": "https://bringsrain.github.io/whmcpanel/deploy-laravel-website/",
        "title": "Deploy Laravel Website di Cpanel",
        "section": "whmcpanel",
        "tags": ["Cpanel","Laravel"],
        "date" : "2021.02.27",
        "body": "Developer Kere Hore Belajar berkolaborasi dalam sebuah proyek teknologi informasi menyenangkan. Menggelitik kreatifitas. Ceritanya, Sebagai pemuda harapan bangsa\u0026hellip; eh, pemuda zaman now, ga keren dong kalo belum pernah nyobain yang namanya ngoprek website. Baru-baru ini, kebetulan ada kesempatan untuk ngoprek website berjamaah ama temen-temen. Di dalam oprek berjamaah ini, saya kebagian jatah meng-online-kan website hasil oprekan. Untuk meng-online-kan website tentu butuh hostingan. Mau sewa VPS, ndak mampu. Mau daftar cloud gratisan ndak punya kartu kridit. Dasar kere!.\nGimana ndak kere, saya cuma gawe sebagai \u0026ldquo;ngadimin kontrak tahunan\u0026rdquo;, temen yang satu gawe sebagai staf IT disebuah rumah sakit swasta, yang satunya lagi freelancer programmer yang baru meniti karir. Kebetulan juga setiap awal tahun, saya selalu kebagian jatah puasa gajian. Karena kondisi ini, diputuskan untuk menggunakan \u0026ldquo;Shared Hosting\u0026rdquo; sebagai tempat gentayangannya si website. Supaya hore, kita-kita ndak sewa hosting saja, tapi ambil paket reseller. Mudah-mudahan kedepannya bisa dapet tambahan uang jajan dari hasil resale-nya.\nWalau kami kere, tapi \u0026ldquo;skill\u0026rdquo; temen-temen yang garap website lumayan hore kok. CMS website dikembangkan sendiri oleh teman-teman. Pengembangan menggunakan bahasa pemrogaraman PHP dengan framework Laravel. Disini bisa disimpulkan bahwa teman-teman lumayan hore, dan saya yang paling kere. Makanya, saat yang lain ngoding saya cuma kebagian jatah \u0026ldquo;deploy\u0026rdquo; saja. Eits.., karena saya punya temen-temen yang hore, dan punya keinginan untuk makin hore, tentu saja yang kita lakukan tidak berhenti sampai oprekan saja. Saat ini kita juga sedang mengembangkan potensi untuk bisa melayani permintaan, pembuatan website dan aplikasi. Untuk tahu lebih lanjut tentang kami yang kere hore ini, silahkan meilipir ke odis.web.id.\nDerita Seorang Tukang Deploy Derita Pertama Ngoprek, kalau tidak ada ganjalan, tidak seru. Ganjalan pertama yang dihadapi adalah perbedaan nama direktori \u0026ldquo;Document Root\u0026rdquo; bawaan Laravel dengan Cpanel. Laravel menggunakan nama public, sementara Cpanel menggunakan nama public_html. Jadi saat deploy, direktori kudu di-rename mengikuti bawaan Cpanel.\nMengganti nama direktori pada sebuah framework tentu tidak bisa berakhir pada proses rename saja, karena setiap komponen dalam sebuah framework saling berkaitan. Berikut resep mengganti nama Document Root laravel dari public menjadi public_html:\n Catatan: Versi yang digunakan disini adalah PHP7 dan Laravel 7.30.1\n  Ganti nama direktori public menjadi public_html Tambahkan baris berikut pada berkas public_html/index.php setelah deklarasi variabel $app. $app-\u0026gt;bind(\u0026#39;path.public\u0026#39;, function() { return __DIR__; }); Baris tersebut berfungsi untuk binding Document Root ke direktori tempat eksekusi index.php.\n Selanjutnya agar Artisan mengenali direktori public_html, tambahkan baris berikut pada berkas app.php didalam direktori bootstrap yang ada di direktori root laravel. Tepatnya: /bootstrap/app.php. $app-\u0026gt;bind(\u0026#39;path.public\u0026#39;, function() { return base_path().\u0026#39;/public_html\u0026#39;; })   Setelah melakukan langkah-langkah tersebut di atas. Deployment ke Cpanel sama seperti aplikasi pada umumnya. Misal:\n Zip direktori. Upload melalui ftp ke direktori user, bukan Document root. Extract berkas zip. Buat database dan User. Import database. Sesuaikan berkas .env dengan konfigurasi database.  Seperti itu sederhananya cara untuk men-deploy ke CPanel secara umum, tapi disinilah muncul derita baru.\nDerita Kedua Bagian ini sebenarnya opsional saja. Dengan solusi di atas, website sudah bisa berjalan dan diakses dari internet. Hanya saja, kadang saya suka gatel matanya liat berkas berantakan di direktori user.\nKonten direktori root Laravel bertebaran bak dedaunan yang jatuh ke bumi dimusim gugur, membuat hati ingin segera ngambil sapu lidi ama pengki buat bersihin. Eh, emangnya di Indonesia ada musim gugur? Ah\u0026hellip;, sudahlah. Waktunya bebenah, biar ga sakit mata.\n Satukan seluruh direktori di dalam Root direktori Laravel kecuali public_html ke sebuah direktori baru. Misal (karena disini website-nya odis) direktori dengan nama odis.  Konfigurasi lagi berkas public_html/index.php, menyesuaikan dengan struktur direktori yang sekarang: // public_html/index.php $app = require_once __DIR__.\u0026#39;/../odis/bootstrap/app.php\u0026#39;; Perhatikan, ada tambahan direktori odis sebelum bootstrap pada path untuk inisiasi $app.\n  Cara deploy tetap sama seperti sebelumnya. Selesai sudah, sekarang mata sudah ndak sakit lagi.\nReferensi: https://medium.com/@pixelvars/laravel-change-public-html-to-public-html-the-right-way-496431aed94\n"
    }
,
    {
        "ref": "https://bringsrain.github.io/whmcpanel/2021-02-23-cpanel-force-redirect-http-to-https/",
        "title": "Cpanel Force Redirect Http to Https",
        "section": "whmcpanel",
        "tags": null,
        "date" : "2021.02.23",
        "body": "Bukaan Satu Mo lahiran kali ah\u0026hellip;\nNgga denk!, Bingung saja mau tulis header-nya apa, pengennya sih yang anti mainstream begitulah jadinya. Baru-baru menggunakan Cpanel, melihat fitur SSL gratisan semacam Letsencrypt berbinar-binarlah mata saya. Ndak perlu rogoh kocek lagi kalo mau situsnya bergaya dengan embel-embel \u0026ldquo;s\u0026rdquo; diprotokolnya. Katanya kalo ditambahin huruf \u0026ldquo;s\u0026rdquo; itu jadi makin bonafide.\nLha\u0026hellip;, kata siapa om?\nAduuh, males ngusutnya itu kata siapa, saya cari yang gampang aja ya, macem wikipedia.\nHTTP HyperText Transfer Protocol (HTTP), adalah sebuah protokol layer aplikasi untuk sistem informasi hypermedia, yang terdistribusi dan kolaboratif. Nah loh, saya sendiri juga bingung maksudnya apa, begitu akibat asal comot dan pake terjemahan bebas seudelnya dari sumber berbahasa inggris. Coba kita simak lanjutannya.\nHTTP adalah pondasi komunikasi data untuk \u0026ldquo;World Wide Web\u0026rdquo;\u0026hellip; Jujur, masih keder saya juga. Singkatnya begini aja, HTTP ini protokol yang digunakan saat kita mengakses sebuah web melalui URL. URL singkatan dari Uniform Resource Locator. Contoh URL; https://google.com. wah, ada huruf \u0026ldquo;s\u0026rdquo; dibelakang http-nya. Kalo URL itu dibuka dari sebuah web browser, aturan main untuk ngobrol yang digunakan web browser dengan web server adalah HTTP. Semoga penjelasan bertele-tele ini semakin membingungkan.\nHTTPS HTTP + Secure (HTTPS). Gampang kan singkatannya hahaihaiahia\u0026hellip;\nProtokol ini adalah HTTP yang komunikasi datanya diamankan dengan Transport Layer Protocol (TLS) atau Secure Socket Layer (SSL).\nDiamankan bagaimana?\nDiamankan dengan cara enkripsi dengan TLS atau SSL.\nKenapa perlu dienkripsi?\nSecara default data yang melewati protokol HTTP itu plain text. Jadi kalo diserobot, datanya bisa dibaca seperti teks, kaya postingan ini. Dengan enkripsi, data yang lewat bisa diacak. Prinsipnya sama kaya bikin surat cinta atau diari jaman sekolah dulu, biar aman pakai sandi, walaupun suratnya disita guru, mereka ndak bakal tau isinya apa, kalau tidak punya contekan sandinya.\nOalah.. ternyata itu bedanya pake \u0026ldquo;s\u0026rdquo; dan ndak pake \u0026ldquo;s\u0026rdquo;, jadi lebih dingin, eh\u0026hellip; cool (keren). Itulah alasannya kenapa dengan huruf \u0026ldquo;s\u0026rdquo; tersebut dibilang makin bonafide.\nUdah segitu aja dulu urusah HTTP dan HTTPS ini, ga usah diperpanjang lagi urusannya. Sekarang kita lanjut ribut ama Cpanel.\nRedirect HTTP ke HTTPS di Cpanel Kan udah konfigurasi Letsencrypt biar punya sertifikat, dan bisa diakses lewat HTTPS situsnya. Eh\u0026hellip; begitu diakses pake HTTP, ternyata bisa dibuka juga. Rugi dong, sertifikatnya jadi ndak manfaat. Dibagian ini saya bahas gimana caranya melakukan \u0026ldquo;pemaksaan\u0026rdquo;. Jadi kalo ada yang akses situsnya pake HTTP, kita paksa belok ke HTTPS. Ini yang disebut \u0026ldquo;redirect\u0026rdquo;.\nKonfigurasi Cpanel Kalo konfigurasi dari CLI untuk web server, biasanya kita ngopreknya di konfigurasi web server. Nah kalo di Cpanel, beda pastinya. Di dashboard Cpanel, cari bagian menu \u0026ldquo;DOMAINS\u0026rdquo;\n Scroll halamannya sampe ketemu blok menu \u0026ldquo;DOMAINS\u0026rdquo;. Klik menu \u0026ldquo;Domains\u0026rdquo;  Kalo udah kebuka halaman daftar domain:\n Centang Enable Force Https Redirect. Klik tombol toggle Force HTTPS Redirect pada daftar, biar \u0026ldquo;On\u0026rdquo;. Kelar.  Udah bang gitu doang, bertele-tele banget postingannya?\nKalo kebelet ke-WC, jangan baca postingan.. haihaihaihaiaha\u0026hellip;\n"
    }
]
