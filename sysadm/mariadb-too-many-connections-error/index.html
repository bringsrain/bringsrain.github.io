<!DOCTYPE html>
<html>
  <head>
  <title>
      
          Mariadb -- Too Many Connections Error - ScratchLog
      
  </title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="BringsRain&#39;s Scratchlogs" />
  <link rel="shortcut icon" type="image/x-icon" href="https://bringsrain.github.io/img/favicon.ico">

  
  
  
  
  
  <link rel="stylesheet" href="https://bringsrain.github.io/style.min.f249de2bfed65a2a93f6f7cc125905d16fb7f93f4cd1e2070fda3964fc4c27a8.css" integrity="sha256-8kneK/7WWiqT9vfMElkF0W&#43;3&#43;T9M0eIHD9o5ZPxMJ6g=">
  
  
  
  <link rel="stylesheet" href="https://bringsrain.github.io/style-dark.min.0a647fb6c07e04b77b54fa0515d0a683d39ecdb251dba960fe1f966f7ff36fc2.css" media="(prefers-color-scheme: dark)" integrity="sha256-CmR/tsB&#43;BLd7VPoFFdCmg9OezbJR26lg/h&#43;Wb3/zb8I=">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

  
  

  <meta property="og:title" content="Mariadb -- Too Many Connections Error" />
<meta property="og:description" content="Bencana Dihari Libur Tanggal merah! Istilah yang sering digunakan untuk menandakan hari libur, karena di kalender biasanya emang dicetak merah, seperti hari ini. Liburan selain akhir pekan itu memang memiliki sensasi yan berbeda, terasa seperti bonus. Biasanya, dihari libur semacam ini, banyak rencana yang ingin dilakukan, seperti; berwisata, makan diluar, nongkrong bareng teman-teman, dll.
Dihari libur ini, saya juga punya rencana, walaupun tidak se-wah rencana-rencana yagn disebutkan sebelumnya. Saya cuma ingin berleha-leha dikamar, ditemenin para bos meong, menghabiskan episode-episode tontonan yang belum terselesaikan." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bringsrain.github.io/sysadm/mariadb-too-many-connections-error/" /><meta property="article:section" content="sysadm" />
<meta property="article:published_time" content="2021-04-02T13:21:08&#43;07:00" />
<meta property="article:modified_time" content="2021-04-02T13:21:08&#43;07:00" />

<meta itemprop="name" content="Mariadb -- Too Many Connections Error">
<meta itemprop="description" content="Bencana Dihari Libur Tanggal merah! Istilah yang sering digunakan untuk menandakan hari libur, karena di kalender biasanya emang dicetak merah, seperti hari ini. Liburan selain akhir pekan itu memang memiliki sensasi yan berbeda, terasa seperti bonus. Biasanya, dihari libur semacam ini, banyak rencana yang ingin dilakukan, seperti; berwisata, makan diluar, nongkrong bareng teman-teman, dll.
Dihari libur ini, saya juga punya rencana, walaupun tidak se-wah rencana-rencana yagn disebutkan sebelumnya. Saya cuma ingin berleha-leha dikamar, ditemenin para bos meong, menghabiskan episode-episode tontonan yang belum terselesaikan."><meta itemprop="datePublished" content="2021-04-02T13:21:08&#43;07:00" />
<meta itemprop="dateModified" content="2021-04-02T13:21:08&#43;07:00" />
<meta itemprop="wordCount" content="363">
<meta itemprop="keywords" content="MySQL,MariaDB,Sysadmin," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:image" content="https://bringsrain.github.io/img/avatar.jpg"/>
<meta name="twitter:title" content="Mariadb -- Too Many Connections Error"/>
<meta name="twitter:description" content="Bencana Dihari Libur Tanggal merah! Istilah yang sering digunakan untuk menandakan hari libur, karena di kalender biasanya emang dicetak merah, seperti hari ini. Liburan selain akhir pekan itu memang memiliki sensasi yan berbeda, terasa seperti bonus. Biasanya, dihari libur semacam ini, banyak rencana yang ingin dilakukan, seperti; berwisata, makan diluar, nongkrong bareng teman-teman, dll.
Dihari libur ini, saya juga punya rencana, walaupun tidak se-wah rencana-rencana yagn disebutkan sebelumnya. Saya cuma ingin berleha-leha dikamar, ditemenin para bos meong, menghabiskan episode-episode tontonan yang belum terselesaikan."/>

  <!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
  <![endif]-->

  <!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <![endif]-->

  
  
</head>

  <body>
    
  <h1>Mariadb -- Too Many Connections Error</h1>
  <header>
  
  <div class="avatar">
    <img class="avatarMask" src="https://bringsrain.github.io/img/avatar.jpg" alt="">
    <a href="https://bringsrain.github.io"><img class="avatar-border" src="https://bringsrain.github.io/img/avatar-border.svg" alt=""></a>
  </div>
  
  <h2><a class="author" href="https://bringsrain.github.io">BringsRain&#39;s Scratchlogs</a></h2>
</header>

  
  
  
  <p class="date">April 2, 2021</p>
  
  
  
  <div id="tags">
    <ul>
      
        
        
          <li><a href="https://bringsrain.github.io/tags/mysql/">MySQL</a></li>
        
      
        
        
          <li><a href="https://bringsrain.github.io/tags/mariadb/">MariaDB</a></li>
        
      
        
        
          <li><a href="https://bringsrain.github.io/tags/sysadmin/">Sysadmin</a></li>
        
      
    </ul>
  </div>
  
  
  <div id="contentBody">
    <h2 id="bencana-dihari-libur">Bencana Dihari Libur</h2>
<p>Tanggal merah! Istilah yang sering digunakan untuk menandakan hari libur, karena di kalender biasanya emang dicetak merah, seperti hari ini. Liburan selain akhir pekan itu memang memiliki sensasi yan berbeda, terasa seperti bonus. Biasanya, dihari libur semacam ini, banyak rencana yang ingin dilakukan, seperti; berwisata, makan diluar, nongkrong bareng teman-teman, dll.</p>
<p>Dihari libur ini, saya juga punya rencana, walaupun tidak se-wah rencana-rencana yagn disebutkan sebelumnya. Saya cuma ingin berleha-leha dikamar, ditemenin para bos meong, menghabiskan episode-episode tontonan yang belum terselesaikan. Intinya&hellip;, pengen ngaso-ngaso lah. Apa daya rencana tinggal rencana.</p>
<p>Siang itu, dijeda antara satu anime dengan anime lainnya, saya sempatkan mengakses salah satu satu website besutan warga gawean. Ladalah&hellip; muncul <strong>Error 500</strong> dihalaman situs, tak periksa situs-situs lain yang berbagi pakai server, idem! Ahh&hellip; bencana dihari libur! Niatnya, mata mau refreshing nonton anime, malah dipake buat baca log sepertinya.</p>
<h2 id="mariadb-too-many-connections">Mariadb, Too Many Connections</h2>
<p>Error 500 alias &ldquo;Server Error&rdquo;. Galat ini biasanya terjadi saat ada kesalahan konfigurasi disistem. Langkah awal yang biasanya saya lakukan adalah memeriksa berkas log, pada kasus ini log web server. Setelah penelusuran, ditemukan pesan galat <strong>MySQL Error &ldquo;Too Many Connections&rdquo;</strong>. Pesan ini jika dimaknai secara sederhana kira-kira; koneksi ke server database melebihi batas maksimal yang sudah ditentukan.</p>
<p>Default-nya, mariadb mengalokasikan nilai 151 untuk opsi <code>max_connections</code>. Hal ini bisa dikonfirmasi melalui interface <strong>mysql-client</strong>.</p>
<pre><code>SHOW VARIABLES LIKE 'max_connections'; 
</code></pre><p>Nah! apapun alasannya, yang pasti jumlah koneksinya tidak cukup. Hari libur pengen leha-leha, jadinya ndak dicari tau kenapa itu koneksi 151 biji bisa abis.</p>
<p>Emang dasar ngadimin magang,
Kadang suka ga ngotak!</p>
<h3 id="tambah-nilai-koneksi-maksimum">Tambah Nilai Koneksi Maksimum</h3>
<p>Untuk memastikan masalah dan solusinya, dicoba dulu set koneksi maksimum ke nilai yang lebih besar.</p>
<pre><code>SET GLOBAL max_connections = 200;
</code></pre><p>Trus, reload deh halaman websitenya. Kalau nilai segitu cukup, seharusnya sudah mejeng lagi itu situs yang kebanyakan gaya, eh&hellip;, kebanyakan koneksi. Kalau belum cukup berarti doi maruk, tambah lagi aja nilainya secukupnya, goreng dengan api sedang, agar masakan matang sepenuhnya.</p>
<p>Kalau sudah cocok nilainya, bisa dipermanenkan. Sunting saja berkas <code>/etc/my.cnf</code> atau <code>/etc/my.cnf.d/server.cnf</code>, tambahkan opsi sebelumnya:</p>
<pre><code>max_connections = 200
</code></pre><p>Simpan, dan restart service mariadb</p>
<pre><code>systemctl restart mariadb
</code></pre><p>Selesai sudah, bisa leha-leha sambil nonton donghua era 2008 semacam <em>&ldquo;Qin Shi Ming Yue: Ye Jin Tianming&rdquo;</em> lagi deh.</p>

  </div>
  <footer>
  <p>
  &copy; 2021 BringsRain&#39;s Scratchlogs.
  Powered by <a href="https://gohugo.io/">Hugo</a>
  using the <a href="https://github.com/koirand/pulp/">pulp</a> theme.
  </p>
</footer>


  </body>
</html>
