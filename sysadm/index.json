[
    {
        "ref": "https://bringsrain.github.io/sysadm/mariadb-too-many-connections-error/",
        "title": "Mariadb -- Too Many Connections Error",
        "section": "sysadm",
        "tags": ["MySQL","MariaDB","Sysadmin"],
        "date" : "2021.04.02",
        "body": "Bencana Dihari Libur Tanggal merah! Istilah yang sering digunakan untuk menandakan hari libur, karena di kalender biasanya emang dicetak merah, seperti hari ini. Liburan selain akhir pekan itu memang memiliki sensasi yan berbeda, terasa seperti bonus. Biasanya, dihari libur semacam ini, banyak rencana yang ingin dilakukan, seperti; berwisata, makan diluar, nongkrong bareng teman-teman, dll.\nDihari libur ini, saya juga punya rencana, walaupun tidak se-wah rencana-rencana yagn disebutkan sebelumnya. Saya cuma ingin berleha-leha dikamar, ditemenin para bos meong, menghabiskan episode-episode tontonan yang belum terselesaikan. Intinya\u0026hellip;, pengen ngaso-ngaso lah. Apa daya rencana tinggal rencana.\nSiang itu, dijeda antara satu anime dengan anime lainnya, saya sempatkan mengakses salah satu satu website besutan warga gawean. Ladalah\u0026hellip; muncul Error 500 dihalaman situs, tak periksa situs-situs lain yang berbagi pakai server, idem! Ahh\u0026hellip; bencana dihari libur! Niatnya, mata mau refreshing nonton anime, malah dipake buat baca log sepertinya.\nMariadb, Too Many Connections Error 500 alias \u0026ldquo;Server Error\u0026rdquo;. Galat ini biasanya terjadi saat ada kesalahan konfigurasi disistem. Langkah awal yang biasanya saya lakukan adalah memeriksa berkas log, pada kasus ini log web server. Setelah penelusuran, ditemukan pesan galat MySQL Error \u0026ldquo;Too Many Connections\u0026rdquo;. Pesan ini jika dimaknai secara sederhana kira-kira; koneksi ke server database melebihi batas maksimal yang sudah ditentukan.\nDefault-nya, mariadb mengalokasikan nilai 151 untuk opsi max_connections. Hal ini bisa dikonfirmasi melalui interface mysql-client.\nSHOW VARIABLES LIKE 'max_connections'; Nah! apapun alasannya, yang pasti jumlah koneksinya tidak cukup. Hari libur pengen leha-leha, jadinya ndak dicari tau kenapa itu koneksi 151 biji bisa abis.\nEmang dasar ngadimin magang, Kadang suka ga ngotak!\nTambah Nilai Koneksi Maksimum Untuk memastikan masalah dan solusinya, dicoba dulu set koneksi maksimum ke nilai yang lebih besar.\nSET GLOBAL max_connections = 200; Trus, reload deh halaman websitenya. Kalau nilai segitu cukup, seharusnya sudah mejeng lagi itu situs yang kebanyakan gaya, eh\u0026hellip;, kebanyakan koneksi. Kalau belum cukup berarti doi maruk, tambah lagi aja nilainya secukupnya, goreng dengan api sedang, agar masakan matang sepenuhnya.\nKalau sudah cocok nilainya, bisa dipermanenkan. Sunting saja berkas /etc/my.cnf atau /etc/my.cnf.d/server.cnf, tambahkan opsi sebelumnya:\nmax_connections = 200 Simpan, dan restart service mariadb\nsystemctl restart mariadb Selesai sudah, bisa leha-leha sambil nonton donghua era 2008 semacam \u0026ldquo;Qin Shi Ming Yue: Ye Jin Tianming\u0026rdquo; lagi deh.\n"
    }
]
